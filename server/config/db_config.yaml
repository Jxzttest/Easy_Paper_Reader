postgresql:
  host: localhost
  port: 5432
  db_name: root
  user: root
  password: helloworld123
  pool_size: 10
  timeout: 5000
  
elasticsearch:
  ip: 'http://127.0.0.1:9200'
  user: "elastic"
  password: "elastic"
  paper_index: "paper_index"
  chat_index: "chat_index"
  timeout: 3000
  body:
    paper_body:
      settings:
        index:
          number_of_shards: 1
          number_of_replicas: 0
      mappings:
        properties:
          paper_id: {"type": "keyword"}
          chunk_id:
            type: keyword
          title: {"type": "text"}
          content: {"type": "text", "analyzer": "standard"}
          content_type:
            type: keyword
          vector:
            type: "dense_vector"
            dims: 1024 
            index: true 
            similarity: "cosine"
          metadata:
            type: object
            dynamic: true
          create_time: 
            type: keyword
    agent_body:
      mappings:
        properties:
          message_id:
            type: keyword # 某次对话中产生的agent调用情况
          source_task_id:
            type: keyword
          task_id:
            type: keyword # 任务id
          # Agent相关
          agent_calls:
            type: nested
            properties:
              agent_id:
                type: keyword
              agent_name:
                type: keyword
              agent_type:
                type: keyword  # llm, retrieval, calculator, etc.
              agent_config:
                type: object
                dynamic: true
          # Tool调用相关
          tool_calls:
            type: nested
            properties:
              tool_call_id:
                type: keyword
              tool_name:
                type: keyword
              tool_params:
                type: object
                dynamic: true
              tool_input:
                type: text
              tool_output:
                type: text
              tool_error:
                type: text
              start_time:
                type: date
              end_time:
                type: date
              duration_ms:
                type: long
              status:
                type: keyword  # pending, executing, success, failed, cancelled
              metadata:
                type: object
                dynamic: true
          # 性能指标
          tokens_used:
            type: integer
          prompt_tokens:
            type: integer
          completion_tokens:
            type: integer
          latency_ms:
            type: long
          # 状态和标记
          status:
            type: keyword  # pending, processing, completed, failed, cancelled
          metadata:
            type: object
            dynamic: true
          created_by:
            type: keyword

    message_body:
      mappings:
        properties:
          # 基础信息
          message_id:
            type: keyword
          user_id:
            type: keyword
          session_id:
            type: keyword
          parent_message_id:
            type: keyword  # 用于消息链追踪
      
          # 消息内容
          role:
            type: keyword  # user, assistant, system, function, tool, agent
          content:
            type: text
            fields:
              keyword:
                type: keyword

          timestamp:
            type: date

redis:
  host: localhost
  port: 6379
  db: 0
  password: null
  pool_size: 5
  timeout: 2000